<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Submit Feedback</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #E0FFFF;
        }
        .form-container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0px 4px 12px rgba(0,0,0,0.1);
        }
        #star-rating {
            direction: rtl;
            unicode-bidi: bidi-override;
            font-size: 2rem;
            display: inline-flex;
        }
        #star-rating input[type="radio"] {
            display: none;
        }
        #star-rating label {
            color: #ccc;
            cursor: pointer;
            padding: 0 5px;
        }
        #star-rating input[type="radio"]:checked ~ label,
        #star-rating label:hover,
        #star-rating label:hover ~ label {
            color: gold;
        }
    </style>
</head>
<body>
<div class="container mt-5 form-container">
    <h1 class="mb-4 text-center">Submit Feedback</h1>

    <% if (errors && errors.length > 0) { %>
        <div class="alert alert-danger">
            <% errors.forEach(error => { %>
                <p><%= error %></p>
            <% }) %>
        </div>
    <% } %>

    <% if (messages && messages.length > 0) { %>
        <div class="alert alert-success">
            <% messages.forEach(msg => { %>
                <p><%= msg %></p>
            <% }) %>
        </div>
    <% } %>

    <form method="POST" action="/feedback/add">
        <div class="mb-3">
            <label for="event_id" class="form-label">Event Name</label>
            <select class="form-select" name="event_id" id="event_id" required>
                <% if (events && events.length > 0) { %>
                    <option value="">Select an event</option>
                    <% events.forEach(e => { %>
                        <option value="<%= e.id %>"><%= e.name %></option>
                    <% }) %>
                <% } else { %>
                    <option disabled>No events available</option>
                <% } %>
            </select>
        </div>

        <div class="mb-3">
            <label for="attendee_name" class="form-label">Your Name</label>
            <input type="text" class="form-control" name="attendee_name" id="attendee_name" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Rating</label><br>
            <div id="star-rating">
                <% for (let i = 5; i >= 1; i--) { %>
                    <input type="radio" id="star<%= i %>" name="rating" value="<%= i %>" required>
                    <label for="star<%= i %>" title="<%= i %> stars">â˜…</label>
                <% } %>
            </div>
        </div>

        <div class="mb-3">
            <label for="comments" class="form-label">Comments</label>
            <textarea class="form-control" name="comments" id="comments" rows="4" required></textarea>
        </div>

        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary">Submit</button>
            <a href="/dashboard" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
</body>
</html>



